<html>

<head>
    <title>Electricity Bill</title>
    <link rel="stylesheet" href="HTML/CSS/Electricity.css">
    <script src="HTML/js/jquery-1.8.2.min.js">
    </script>
    <style>
        .err {
            color: red;
            font-synthesis: style;
        }

    </style>
    <script>
        $(document).ready(function() {
            $("#unit").blur(function() {
                var u = $(this).val();
                if (u.length == 0) {
                    $("#err1").html("Please Fill a valid number").addClass("err");
                    $("#unit").css("border-bottom-color", "red");
                } else {
                    $("#unit").css("border-bottom-color", "green");
                    $("#err1").html("");
                }


            });
            
            
            $('input[type="checkbox"]').click(function() {
                if ($("#chkac").is(':checked')) {
                    $("#inputac").removeAttr("disabled");
                    $("#inputac").css("border-bottom-color", "green");
                } else {
                    $("#inputac").val("");
                    $("#inputac").attr("disabled", true);
                    $("#inputac").css("border-bottom-color", "black");
                }
                if ($("#chkfan").is(':checked')) {
                    $("#inputfan").removeAttr("disabled");
                    $("#inputfan").css("border-bottom-color", "green");
                } else {
                    $("#inputfan").val("");
                    $("#inputfan").attr("disabled", true);
                    $("#inputfan").css("border-bottom-color", "black");
                }


            });

            var sum = 0;
            $("#txtbill").click(function() {
                var a = $("#inputac").val();
                var b = $("#inputfan").val();
                $("#acbill").val(parseFloat(a * 100) + "₹");

                $("#fanbill").val(parseFloat(b * 50) + "₹");


                var u = $("#unit").val();
                if (parseFloat(u) < 100) {
                    $("#unitbill").val(u * 2 + "₹");
                    sum = parseFloat(a * 100) + parseFloat(b * 50) + parseFloat(u * 2);
                } else {
                    $("#unitbill").val(u * 5 + "₹");
                    sum = parseFloat(a * 100) + parseFloat(b * 50) + parseFloat(u * 5);
                }
                $("#txttotal").val(sum + "₹");
                $("#txtdiscount").attr("disabled", false);
                $("#tb2").fadeIn(2000);

            });

            $("#txtdiscount").click(function() {
                if ($("#comm").is(':checked')) {
                    d = sum * (0.1);
                    $("#disc").val(d.toFixed(2) + "₹");
                } else {
                    d = sum * (0.2);
                    $("#disc").val(d.toFixed(2) + "₹");
                }
                $("#inputnet").attr("disabled", false);
                $("#hid2").fadeIn(2000);
                $("#hid1").fadeIn(2000);
            });
            $("#inputnet").click(function() {
                var n = sum - d;
                $("#txtnet").val(n.toFixed(2) + "₹");
                $("#hid3").fadeIn(2000);
                $("#hid4").fadeIn(2000);
            });
        });

    </script>
</head>

<body>
    <center>
        <table class="tb1">
            <tr>
                <td colspan="3">
                    <h2>Electricity Bill</h2>
                </td>
            </tr>
            <tr class="one">
                <td class="clr">
                    Units Consumed:
                </td>
                <td><input type="text" id="unit" autofocus></td>
                <td id="err1"></td>
            </tr>
            <tr>
                <td class="clr">AC <input type="checkbox" id="chkac"></td>
                <td colspan="2"><input type="text" disabled id="inputac" placeholder="Number of AC's Using"> </td>

            </tr>
            <tr>
                <td class="clr">Fan <input type="checkbox" id="chkfan"></td>
                <td colspan="2"><input type="text" disabled id="inputfan" placeholder="Number of Fans Using"> </td>
            </tr>
            <tr>
                <td class="clr"> <input type="radio" name="same" id="comm" checked> Commercial(10%)</td>
                <td colspan="2" class="clr"><input type="radio" name="same" id="resd"> Resedential(20%)</td>
            </tr>
            <tr>
                <td><input type="button" class="btn" value="Bill" id="txtbill"></td>
                <td><input type="button" class="btn" value="Discount" id="txtdiscount" disabled></td>
                <td style="margin-left: 20px;"><input type="button" value="Net" id="inputnet" class="btn" disabled></td>
            </tr>
        </table>


        <table id="tb2" style="display: none;">
            <tr>
                <th colspan="6">Bill Generated</th>
            </tr>

            <tr>
                <td class="clr">AC:</td>
                <td><input type="text" id="acbill" readonly></td>
                <td class="clr">Fan:</td>
                <td><input type="text" id="fanbill" readonly></td>
            </tr>
            <tr>
                <td class="clr">Units:</td>
                <td><input type="text" readonly id="unitbill"></td>
                <td class="clr" id="hid1" style="display: none;">Discount:</td>
                <td id="hid2" style="display: none;"><input type="text" readonly id="disc"></td>
            </tr>
            <tr>
                <td class="clr">Total:</td>
                <td><input type="text" readonly id="txttotal"></td>
                <td class="clr" id="hid3" style="display: none;">Net:</td>
                <td style="display: none;" id="hid4"><input type="text" readonly id="txtnet"></td>
            </tr>
        </table>
    </center>
</body>

</html>
