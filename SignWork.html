<html>
<head>
    <meta charset="UTF-8" />
    <title>Sign Up</title>
    <script src="js/jquery-1.8.2.min.js">
    </script>
    <link rel="stylesheet" href="css/signuptoggle.css">
    <style>

    </style>
    <script>
        $(document).ready(function() {

//            $("#pass").blur(function() {
//                var pwd = $(this).val();
//                var r = /(?=^.{8,}$)(?=.\d)(?=.[!@#$%^&]+)(?![.\n])(?=.[A-Z])(?=.[a-z]).$/;
//                if (r.test(pwd)) {
//                    $("#pass").css("border-bottom-color", "green");
//                } else {
//
//                    $("#pass").css("border-bottom-color", "#b31217");
//                    $("#err4").html("Incorrect Password");
//                    
//                }
//            });

            $("#mob").blur(function() {
                var u = $(this).val();
                var exp = /^[6-9]{1}[0-9]{9}$/;
                if (exp.test(u)) {
                    $(this).css("border-bottom-color", "green");
                    $("#err2").html("");
                } else {
                    $(this).val("");
                    $(this).css("border-bottom-color", "#b31217");
                    $("#err2").css("color", "#b31217");
                    $("#err2").html("Incorrect Mobile Number");
                }
            });


            $("#email").blur(function() {
                var user = $(this).val();
                var r = /^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/;
                if (r.test(user)) {
                    $(this).css("border-bottom-color", "green");
                    $("#err3").html("");
                } else {
                    $(this).val("");
                    $(this).css("border-bottom-color", "#b31217");
                    $("#err3").css("color", "#b31217");
                    $("#err3").html("Incorrect Mail address");
                }
            });
            $("#name").blur(function() {
                var nam = $(this).val();
                if (nam.trim().length == "") {
                    $(this).css("border-bottom-color", "#b31217");
                } else {
                    $(this).css("border-bottom-color", "green");
                }
            });
            $(".btn1").click(function(){
                
                 
                $("#sign").fadeToggle(8000);
               $(".btn1").fadeOut(500);
                $(".btn2").fadeOut(300);
                $(".btn3").fadeOut(300);
        
                   
                
            });
            $(".btn2").click(function(){
                $("#log").fadeToggle(7000);
                      $(".btn1").fadeOut(500);
                       $(".btn2").fadeOut(300); 
                     $(".btn3").fadeOut(300);
            });
            
             $(".btn3").click(function(){
                $("#update").fadeToggle(7000);
                      $(".btn1").fadeOut(500);
                       $(".btn2").fadeOut(300); 
                     $(".btn3").fadeOut(300);
            });
            
            
               $("#name").blur(function(){
                  var u= $("#name").val();
                  var url="ajax-chk-work.php?user="+u;
                $.get(url,function(response){
                       $("#erruid").html(response);
                      if(response=="Available")
                          {
                              $("#erruid").css('color','green');
                            
                          }
                    else
                        {
                            $("#erruid").css("color","red"); 
                        }
                   });
                
            });
            $("#nameu").blur(function(){
                var u=$("#nameu").val();
                
                $.getJSON("json-getch.php?uid="+u,function(response){
                    if(response.length==0)
                        alert("Invalid Id");
                    else{
                        $("#mobu").val(response[0].mobile);
                        $("#passu").val(response[0].password);
                        $("#emailu").val(response[0].email);
                        $("#imgidu").prop("src","uploads/"+response[0].pic);
                    }
                });
            });

        });

    </script>
    <script>
		function showpreview(file, imgid) {

			if (file.files && file.files[0]) {
				var reader = new FileReader();
				reader.onload = function(e) {
					$(imgid).prop('src', e.target.result);
				}
				reader.readAsDataURL(file.files[0]);
			}
		}

	</script>

</head>

<body>
    <div class="signup">

        <div class="all">
<!--                   <h2 style="color:#fff;" id="btn">Sign Up</h2>-->
                <input type="button" value="Sign Up" id="btn" class="btn1">
                <input type="button" value="Log In" id="btn"  class="btn2" style="position: absolute;  right:450px;">
                <input type="button" value="Update" id="btn"  class="btn3" style="position: absolute;  right:320px;">
                </div>
                <form action="SignWork-process.php" method="post" enctype="multipart/form-data">

        <div id="sign">
          
                <div class="all"> <input type="text" placeholder="Name" id="name" name="uid"><br> <span id="erruid" style="margin-left: 200px; margin-top: 4px;">We Will not share your User Id with anyone else</span></div>
               
                <div class="all"> <input type="text" placeholder="Mobile Number" id="mob" name="mob"><span id="err2"></span></div>
                <div class="all"> <input type="password" placeholder="Password" id="pass" name="pwd"><span id="err4"></span> </div>
                <div class="all"> <input type="text" name="email" placeholder="Email Address" id="email"><span id="err3"></span></div>
               <div style="width: 550px;">  <label >Upload Your Profile Picture</label>
                  <input type="file"  id="pic" accept="image/*" name="pic" onchange="showpreview(this,imgid);"> 
                  <img src="" alt="" width="100px" height="70px" id="imgid" style="border-radius: 50%;">
                  </div>
                <div class="all" style="margin-left:30px;"> <input type="submit" name="btn" value="Sign Up"></div>
                <div class="all" style="margin-left: 220px;"><b>Already have a account?</b> <a href="" style="text-decoration:none; color:yellow;">&nbsp;Log In</a></div>
            
        </div>

        <div id="log" style="position: absolute; top: 200px;right: 200px; display: none;">
            <div class="all"><input type="text" placeholder="UserId"></div>
            <div class="all"><input type="text" placeholder="Password"></div>
             <input type="submit" value="Log In" name="btn" style="padding-left: 10px;margin-left: 220px;">
        </div>
        <div id="update" style="display: none; margin-left: 250px;margin-top: 50px; ">
                
          
                <div class="all"> <input type="text" placeholder="Name" id="nameu" name="uidu"><br> <span id="erruid" style="margin-left: 200px; margin-top: 4px;"></span></div>
               
                <div class="all"> <input type="text" placeholder="Mobile Number" id="mobu" name="mobu"><span id="err2"></span></div>
                <div class="all"> <input type="password" placeholder="Password" id="passu" name="pwdu"><span id="err4"></span> </div>
                <div class="all"> <input type="text" name="emailu" placeholder="Email Address" id="emailu"><span id="err3"></span></div>
               <div style="width: 550px;">  <label >Upload Your Profile Picture</label>
                  <input type="file"  id="picu" accept="image/*" name="picu" onchange="showpreview(this,imgid);"> 
                  <img src="" alt="" width="100px" height="70px" id="imgidu" style="border-radius: 50%;">
                  </div>
                <div class="all" style="margin-left:30px;"> <input type="submit"  name="btn" value="Update"></div>
            
            
        </div>
        
        </form>





    </div>
</body>

</html>
